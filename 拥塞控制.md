## 流完成时间

流完成时间（Flow Completion Time，FCT）是指一段时间，从发送第一个数据包开始（在TCP 中，是SYN 包），直到收到最后一个数据包为止。

## Linux拥塞控制算法配置

在Linux用户态可以**通过参数查看当前使用的拥塞控制算法、当前可支持的拥塞控制算法**。如下表所示是两个参数以及含义。

| 参数                                      | 含义                     |
| ----------------------------------------- | ------------------------ |
| net.ipv4.tcp_congestion_control           | 当前运行的拥塞控制算法   |
| net.ipv4.tcp_available_congestion_control | 当前可支持的拥塞控制算法 |

```bash
#查看当前运行的拥塞控制算法
$ sysctl net.ipv4.tcp_congestion_control
#查看当前可支持的拥塞控制算法
$ sysctl net.ipv4.tcp_available_congestion_control
```

### 查看Linux系统中所有已实现的拥塞控制算法模块：

![image-20230803094446632](image/%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6/image-20230803094446632.png#ic_center)

### 安装特定拥塞控制算法

```bash
$ modprobe -a tcp_vegas
```

### 动态切换拥塞控制算法

当前使用的拥塞控制算法外**还可以动态切换拥塞控制算法。如下所示将默认的cubic拥塞控制算法切换为bbr拥塞控制算法。**

```bash
$ echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf
$ echo "net.ipv4.tcp_congestion_control=bbr" >> /etc/sysctl.conf
$ sysctl -p
kernel.shmmax = 9223372036854775807
kernel.shmall = 1152921504606846720
net.core.default_qdisc = fq
net.ipv4.tcp_congestion_control = bbr
```

