# **LAG vs LACP：有什么区别？**

在以太网交换机连接领域，链路聚合是一种在不同网络交换机之间并行组合多个端口的技术。它的功能是经济高效地扩展带宽，并在链路故障时提供冗余。但是，总称“链路聚合”是一个相当宽泛的术语，包含各种概念：链路聚合控制协议，链路聚合组，MLAG，802.3ad，802.1AX等。其中，LAG与LACP的问题使许多人感到困惑。在这里，我们按顺序介绍LAG与LACP，并比较LAG与LACP，以说明它们的关系和差异。

![img](image/LAG%20vs%20LACP%EF%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F/LAG-vs-LACP-What-is-the-Difference.jpg)

## **LAG vs LACP：什么是 LAG？**

**LAG（链路聚合组）**是链路聚合的实际技术或实例。当我们在两个交换机之间并行连接多个端口并将它们配置为 LAG 时，就会形成链路聚合组。因此，LAG在两个交换机之间建立了多个链路，从而扩展了带宽。此外，它还在网络故障和负载平衡流量中提供链路级冗余。即使一条链路发生故障，两台交换机之间的其余链路仍将运行。它们还会接管那些应该通过故障流量遍历的流量，因此数据包不会丢失。

## **LAG vs LACP：什么是 LACP？**

**LACP（链路聚合控制协议）**是一种自动设置 LAG 的控制协议。因此，您可以选择在没有 LACP 的情况下构建静态 LAG。或者，您可以选择使用 LACP 设置动态 LAG。简单地说，LACP 不是一个链路聚合实例，而是一个用于定义它的协议。LACP 使 LAG 能够从静态 LAG 传输到动态 LAG，从而允许 LAG 组件网络交换机之间的链路聚合信息交换。信息在链路聚合控制协议数据单元 （LACPDU） 中作为数据包传递。两个交换机上的每个端口都可以通过控制协议配置为主动或被动，以优先传输 LACPDU。

## LAG实施方案

由于 LACP 只是链路聚合组的协议。我们将省略 LAG 与 LACP 的区别，以 FS.COM 查看 LAG 实施方案。 以两台千兆 PoE 网络交换机和另一台 10GbE 光纤交换机之间的 LAG 为例。只需用一根电缆连接每个千兆 PoE 交换机上的一个端口，我们就可以获得 1GE 带宽。但是，当您双链路、三链路或更高的倍数时，带宽将变为 2GE、3GE 等。

此外，为了上行链路骨干核心交换机，我们可以使用 4 根带有相应模块的光纤跳线来链接 48 端口千兆 PoE 交换机 10GE SFP+ 端口和 10GbE 光纤交换机。然后，S1600-48T4S 上的上行链路带宽扩展到 40GE。在 48 端口 PoE 交换机上形成两个 LAG。形成 LAG 的链路上限和两个交换机之间的 LAG 数量因供应商和交换机型号而异。

![img](image/LAG%20vs%20LACP%EF%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F/LAG-vs-LACP-link-aggregation-implement-scenario-by-fs-PoE-switch-and-fiber-switch.jpg)

图 1：在 FS 48 端口 PoE 交换机和 24 端口 PoE 交换机上并行链接 4 个 1GE 端口以设置 LAG，从而将带宽从 1000Mbps 提高到 4 × 1000Mbps。在此照片中，已在 FS 48 端口 PoE 交换机上实施了两个 LAG。

## **LAG vs LACP：扩展带宽的链路聚合优势**

无论 LAG 是否部署链路聚合控制协议，都不需要昂贵的硬件升级。因此，链路聚合组为带宽扩展提供了经济高效的解决方案。堆叠开关确实是获得更高带宽的高级方法。但是，它仅限于可堆叠交换机，不支持单独放置。购买像10GbE交换机这样的更高速度的交换机也是一种直接有效的解决方案。但对于普通用户来说，这种硬件升级超出了预算。

## **LAG vs LACP：有什么区别？**

* 链路聚合组是链路聚合的实际实例，而 LACP 是用于自动配置和维护 LAG 的协议。

* 不带链路聚合控制协议的 LAG 是一种静态配置，其中 LAG 中的每对端口都需要分别进行手动配置。但是，启用 LACP 的端口是动态配置，可以在构建 LAG 时自动配置为中继组。  
* 当谈论 LAG 与 LACP 时，通常指的是没有 LACP 的静态 LAG 与带有 LACP 的动态 LAG。一般来说，动态LAG配置在自动故障转移和相互动态配置方面比静态LAG配置具有优势。在静态链路聚合中，LAG无法分离配置或布线错误，从而导致不必要的网络故障。

## 结论

LAG与LACP问题是为了解决它们之间的混淆概念。LAG 是链路聚合的实际实例。LACP 是一种控制协议，用于使 LAG 能够自动配置网络交换机端口、分离链路故障和激活故障转移。因此，LAG 包含静态 LAG 配置和动态 LAG 配置，具体取决于是否使用可选的链路聚合控制协议。总体而言，链路聚合组是一种通过交换机堆叠和其他硬件升级方法扩展带宽的经济高效方法。为了最大限度地减少网络链路故障，在静态 LAG 上启用 LACP 的动态 LAG 配置是一个更好的解决方案。

> 原文地址：[LAG vs LACP: What's the Relationship and Difference?Fiber Optic Components (fiber-optic-components.com)](https://www.fiber-optic-components.com/llag-vs-lacp-relationship-difference.html)